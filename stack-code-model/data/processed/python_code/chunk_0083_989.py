package{	import flash.display.MovieClip;	import flash.events.ProgressEvent;	import flash.media.Sound;	import flash.net.URLRequest;	import flash.text.TextField;		import fl.controls.Button;		import net.guttershark.control.DocumentController;	import net.guttershark.support.servicemanager.shared.CallFault;	import net.guttershark.support.servicemanager.shared.CallResult;			public class Main extends DocumentController 	{		private var s:Sound;		public var tts:TextField;		public var ttsb:Button;		public var blocker:MovieClip;		public function Main()		{			super();		}				override protected function setupComplete():void		{			s = new Sound();			blocker.visible = false;			sm.createHTTPService("tts","http://tts/tts.php",1,20000);			em.handleEvents(ttsb,this,"onGo");		}				public function onGoClick():void		{			blocker.visible = true;			if(ast.emptyString(tts.text) || tts.text.toLowerCase()=="type some text...") return;			sm.tts({data:{tts:tts.text},onResult:onTTSResult,onFault:onTTSFault});		}				private function onTTSResult(cr:CallResult):void		{			s = new Sound();			em.handleEvents(s,this,"onSound");			s.load(new URLRequest(cr.result.filename));			s.play();		}				public function onSoundProgress(pe:ProgressEvent):void		{			trace("progress");			if(blocker.visible) blocker.visible = false;		}		private function onTTSFault(cf:CallFault):void		{			trace("FAULT");		}	}}