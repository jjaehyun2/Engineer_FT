/****************************************MENU AREA CLASS AS2****************************************/dynamic class GPMenuArea extends MovieClip{	private static var _EventDispatchingInitialized = mx.events.EventDispatcher.initialize( GPMenuArea.prototype );	function dispatchEvent() {}; 	function addEventListener() {}; 	function removeEventListener() {};			var L1Holder:MovieClip;	var aryMenuData:Array;		var objMenuColors:Object;	var MenuObjL1:Object;	function GPMenuArea(){ };		public function init(obj, ary):Void{		var numW = Number(obj.w);		var numH = Number(obj.h);			aryMenuData = ary;				var objGRef = _global.MainObj.siteinfo.hex_colors;		var objMenuColors = {			groundColor:objGRef[2], groundInactiveColor:objGRef[0], groundOverColor:objGRef[0],			faderColor:objGRef[0],			textInactiveColor:objGRef[2], textUpColor:objGRef[1],			textOverColor:objGRef[2], textDownColor:objGRef[4]};								L1Holder = createEmptyMovieClip("l1Holder_mc", 5);			L1Holder._y = Number(obj.toppad) + (Number(obj.btnh)/2);			L1Holder._x = numW/2;		var mcGround = 	attachMovie("MenuGround","ground_mc", -20);							var strEase = robertpenner.Quad;		var strEase2 = robertpenner.Back;		var strEase3 = robertpenner.Elastic;				buildL1Menu(objMenuColors, Number(obj.btnw), Number(obj.btnh), Number(obj.vspace), Number(obj.labelPadL));				cleanUp()	}					//CLEAN UP - no longer needed vars	private function cleanUp():Void{	 		delete numW; delete numH;	}				function onButtonAction(obj:Object){		var tweenCtrl = new effects.ZigoTweener();			//trace("[GPMENUAREA] onButtonAction("+obj.act+")");		switch(obj.act){			case "over" :				tweenCtrl.scaleTo(obj.mc, 110, .5, "Back.easeOut",0,{func:setMouseCheck, scope:this, args:[obj.mc]}, 9);				_global.MainObj.objNavSoundMan.playSound(1);				break;			case "out": //using a mouse move check to allow menu items to peak before close				//_global.MainObj.objNavSoundMan.playSound(1);				break;			case "disable":				tweenCtrl.scaleTo(obj.mc, 100, .7, "Back.easeOut",0, {}, 2);				delete obj.mc.onEnterFrame;				break;			case "release" :				onMenuClick(obj.id);				_global.MainObj.objNavSoundMan.playSound(2);				break;		};	}		private function setMouseCheck(mc:MovieClip){ mc.onEnterFrame = checkIfMouseOver }		private function checkIfMouseOver():Void{		var mc = this;		var numHalfW:Number = mc._width/2; var numHalfH:Number = mc._height/2;		//trace("checkIfMouseOver["+mc._name+"] mouseX="+mc._xmouse+", mouseY="+mc._ymouse+", halfW="+numHalfW+", halfH="+numHalfH+"")		if((mc._xmouse < -numHalfW || mc._xmouse > numHalfW) || (mc._ymouse < -numHalfH || mc._ymouse > numHalfH)){			var tweenCtrl = new effects.ZigoTweener();				tweenCtrl.scaleTo(mc, 100, .7, "Back.easeOut",0, {}, 3);				delete mc.onEnterFrame;		}	}		private function onMenuClick(n:Number, ft:Boolean){		if(aryMenuData[n].linkurl != undefined){			getURL(aryMenuData[n].linkurl, "_blank");			_global.MainObj.reportClick("Where To Buy");		}else{			dispatchEvent({target:this, type:'onMenuClick', id:n, info:aryMenuData[n], first:ft});			if(!ft) setActive(n);		}	}			// BUILD LEVEL1 MENU	private function buildL1Menu(paramObj, w:Number, h:Number, sp:Number, pd:Number):Void{		var objReference = this;				// BEGIN: button setup		//var fcnLoop:Function = function(ind:Number, mc:MovieClip){objReference.onL1BuildLoop(mc); }		//var fcnPreLoop:Function = function(ind:Number, mId:String, obj:Object){objReference.onL1BuildLoopPre(ind,obj); }				// for buttons		var objGround:Object = {w:w, h:h, fillColor:paramObj.groundColor, fillAlpha:50};		var objFader:Object = {w:w, h:h, fillColor:paramObj.faderColor, fillAlpha:20};//y:-numBtnH/2,		var objActGround:Object = {w:w, h:h, fillColor:paramObj.groundInactiveColor, fillAlpha:95};				// put together button object		var objMenuBtn:Object = {w:w, h:h, bolGround:false, bolFader:false, bolBorder:false, 			bolWrap:true, bolMultiline:false,  bolEmbedfont:true, bolTextMc:true, bolActiveGround:false, 			bolFaderFullOut:true, bolFaderOnTop:false, bolCenter:true,			txttoppad:2, padding:0, strAutoSize:"left", marginLf:pd, //marginRt:pd+5,			faderEnd:[100], faderStart:[0], //faderProp:["_alpha"], faderPos:{_y:numBtnH}, 			bginactivecolor:paramObj.groundInactiveColor, bdinactivecolor:paramObj.borderOutColor, 			txtcolor:paramObj.textUpColor, txtovercolor:paramObj.textOverColor, txtdowncolor:paramObj.textDownColor, 			txtinactivecolor:paramObj.textInactiveColor, formatObj:_global.MainObj.siteinfo.text_formats[2],			numFaderInTime:.05, numFaderOutTime:.15,			//objFaderInCallback:{func:onL1MenuOver, scope:this},			fcnFaderInEase:"Quad.easeIn",fcnFaderOutEase:"Quad.easeOut",			objDrawActGround:objActGround, objDrawGround:objGround, objDrawFader:objFader};				/* put it all together and add nav object------*/		var objNavParam:Object = {objButton:objMenuBtn,			aryMenuData:aryMenuData, paddingL:0, paddingR:0, paddingT:0, paddingB:0, numSpacing:sp,			bolGround:false, bolAllCaps:true, bolAddHome:false, 			//fncOnBuildLoop: fcnLoop, fncOnBuildLoopPre:fcnPreLoop, 			fncSetActive: function(mc){objReference.setActive(mc)},			bolAddHome:false, strLabelProperty:"label", strIdProperty:"id"};				var menuCtrl:Object = new controllers.MenuObject(L1Holder, objNavParam, this);				}			// LEVEL1 MENU LOOP FUNCTION 		function onPreBuildLoop(obj:Object):Void{				var i = obj.count;			var o = obj.btnObj;			o.txttoppad = (i > 3)? 6 : 1;			if(aryMenuData[i].label2 != undefined) o.strLabel += newline + aryMenuData[i].label2.toUpperCase();	}		function onBuildLoop(obj:Object):Void{			var mc = obj.mc;		var x = obj.x; var y= obj.y;		// chnage the Y position after index 2		if(mc.numIndex == 4) mc._y += 135;		if(mc.numIndex == 5) mc._y += 125;		if(mc.numIndex == 6) mc._y += 115;	}		//SET MENU ACTIVE	function setActive(n:Number){		aryMenuData[0].mcBtn.enabled = (n == 0)? false : true;		for(var s=1; s< aryMenuData.length; s++){			var bolEnable = (s == n)? false : true;			var mc:MovieClip = aryMenuData[s].mcBtn;			var strEffect = (bolEnable)? "up" : "inactive";					mc.onDisable(bolEnable, strEffect);			}	}			function entry():Void{		var tweenCtrl = new effects.ZigoTweener();			tweenCtrl.tween(this,["_alpha"], [100], .5, "Quad.easeOut", 0);					tweenCtrl.tween(this,["_x"], [this.endX], 1, "Back.easeOut",.2, {}, 2);		_global.MainObj.objNavSoundMan.playSound(0);				//func:showHomePage, scope:this	}		//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++		// end class};